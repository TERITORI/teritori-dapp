import { allNetworks } from "../networks";

// NOTE: would be better to use a generic typescript -> go converter
// might be easier to do go -> typescript with go reflection actually

let content = `
// Code generated by "generateGoNetworks.ts"; DO NOT EDIT.

package networks

var AllNetworks = []*Network {
`;

for (const network of allNetworks) {
  const currencies = network.currencies.map((c) => {
    if (c.kind === "ibc") {
      return `&IBCCurrency{
        Denom: ${JSON.stringify(c.denom)},
        SourceNetwork: ${JSON.stringify(c.sourceNetwork)},
        SourceDenom: ${JSON.stringify(c.sourceDenom)},
      },`;
    }
    return `&NativeCurrency{
      Denom: ${JSON.stringify(c.denom)},
      CoinGeckoID: ${JSON.stringify(c.coingeckoId)},
      Decimals: ${JSON.stringify(c.decimals)},
    },`;
  });
  content += `{
    ID: ${JSON.stringify(network.id)},
    Currencies: []Currency{
      ${currencies.join("\n")}
    },
  },
  `;
}

content += `
}
`;

console.log(content);
