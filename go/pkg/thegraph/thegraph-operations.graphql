query GetCollectionNFTs(
  $nftContractFilter: NftContract_filter, 
  $nftFilter: Nft_filter, 
  $Limit: Int!, 
  $Offset: Int!
) {
  nftContracts(where: $nftContractFilter, first: $Limit, skip: $Offset) {
		id
		name
    minter
    symbol
		nfts(where: $nftFilter, first: $Limit, skip: $Offset) {
      id
      tokenID
      owner
      seller
      creatorName
      creatorAddress
      tokenURI
      inSale
      price
      denom
      createdAt
      removedAt
		}
	}
}

query GetCollectionActivities($minter: Bytes!, $Limit: Int!, $Offset: Int!) {
  actions(where: { minter: $minter }, first: $Limit, skip: $Offset) {
    id
    nft {
      id
      tokenURI
      contract {
        minter
        id
        name
      }
    }
    buy {
      price
      denom
      seller
    }
    list {
      price
      denom
    }
    action
    actor
    txID
    createdAt
  }
}

query GetNFTActivities($nftID: String!, $Limit: Int!, $Offset: Int!) {
  actions(where: { nft: $nftID }, first: $Limit, skip: $Offset) {
    id
    nft {
      id
      tokenURI
      contract {
        minter
        id
        name
      }
    }
    buy {
      price
      denom
      seller
    }
    list {
      price
      denom
    }
    action
    actor
    txID
    createdAt
  }
}

query GetNFTPriceHistory($nft: String!) {
  buys(where: { nft: $nft }) {
    price
    denom
    createdAt
  }
}

query GetCollections($from: BigInt!) {
  nftContracts {
    id
    supported
    name
    minter
  }
  buys(where: { createdAt_gt: $from }) {
    id
    nft {
      id
      contract {
        id
      }
    }
    denom
    price
  }
}

query GetCollectionStats($minter: Bytes!) {
 nftContracts(where: {minter: $minter}) {
		id
		name
    symbol
    nfts {
      id
      owner
      creatorName
      creatorAddress
      tokenURI
      inSale
      price
      denom
      createdAt
    }
  }
  buys(where: { minter: $minter }) {
    price
    denom
  }
}